(()=>{let t,e=[];const o=function(t){todoList=t.getTodos();const e=((t,e,o,n,d)=>{const c={title:prompt("Task Title"),dueDate:prompt("Due Date"),priority:todoList.length+1,isDone:"true"===prompt("Is it done yet?"),description:prompt("Description"),setPriority:t=>{c.priority=t},switchDone:()=>{c.isDone=!c.isDone}};return c})();t.addTodo(e),d.renderTodos(t)},n=function(){const t=(t=>{let e=[];return{addTodo:t=>{e.push(t)},getTodos:()=>e,title:void 0}})();t.title=prompt("Project Title"),e.push(t),d.renderProjects()},d=(()=>{const t=document.querySelector("#project_list"),o=document.querySelector("#todos_list");return{renderProjects:function(){t.textContent="",e.forEach((e=>{!function(e){const o=c.buildProject(e);t.appendChild(o)}(e)}))},renderTodos:function(t){o.textContent="",t.getTodos().forEach((t=>{!function(t){const e=c.buildTodo(t);o.appendChild(e)}(t)}))}}})(),c={buildTodo:function(t){const e=document.createElement("div");e.classList.add("todo");const o=document.createElement("input");o.classList.add("checkbox"),o.type="checkbox",o.checked=t.isDone;const n=document.createElement("p");n.classList.add("todo-title"),n.textContent=t.title;const d=document.createElement("p");d.classList.add("todo-date"),d.textContent=t.dueDate;const c=document.createElement("p");c.classList.add("todo-priority"),c.textContent=t.priority;const i=document.createElement("button");i.textContent="Expand";const r=document.createElement("button");r.textContent="Delete";const s=document.createElement("div");s.classList.add("todo-desc","hidden");const l=document.createElement("p");return l.textContent=t.description,s.appendChild(l),i.addEventListener("click",(()=>{s.classList.toggle("hidden")})),e.appendChild(o),e.appendChild(n),e.appendChild(d),e.appendChild(c),e.appendChild(i),e.appendChild(r),e.appendChild(s),e},buildProject:function(e){const o=document.createElement("div");o.classList.add("proj");const n=document.createElement("button");return n.addEventListener("click",(()=>{t=e,d.renderTodos(e)})),n.textContent=e.title,n.classList.add("proj-btn"),o.appendChild(n),o}};document.querySelector("#new_todo").addEventListener("click",(()=>o(t))),document.querySelector("#new_project").addEventListener("click",n),document.forms.projForm,document.forms.todoForm})();