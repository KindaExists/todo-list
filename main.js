(()=>{let t,e=[];const o=function(o){const r=(t=>{let e=[];return{addTodo:t=>{e.push(t)},getTodos:()=>e,title:t,deleteTodo:t=>{e.splice(e.indexOf(t),1),e.reduce(((t,e)=>(e.setPriority(t),t+1)),1)}}})(o);t=r,e.push(r),n.renderProjects()},n=(()=>{const t=document.querySelector("#project_list");return document.querySelector("#todo_list"),{renderProjects:function(){t.textContent="",e.forEach((e=>{!function(e){const o=r.buildProject(e);t.appendChild(o)}(e)}))}}})(),r=(()=>{function e(t,e,o=null){const n=document.createElement(t);return n.classList.add(...e),o&&function(t,e){e.forEach((e=>{t.appendChild(e)}))}(n,o),n}function o(t){const e=document.createElement("i");return e.classList.add("fas",`fa-${t}`),e}return{buildTodo:function(t){},buildProject:function(r){const c=e("button",["proj-btn","sel-btn"]);c.textContent=r.title,c.addEventListener("click",(()=>{t=r,n.renderTodos(r)}));const d=e("button",["proj-btn","edit-btn"],[o("edit")]),u=e("button",["proj-btn","del-btn"],[o("trash-alt")]);return e("div",["proj"],[c,d,u])}}})();o("Proj 1"),document.forms.todoForm,document.querySelector("#new_todo"),document.forms.projForm,document.querySelector("#new_project")})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWFpbi5qcyIsIm1hcHBpbmdzIjoiTUFDQSxJQUNJQSxFQURBQyxFQUFRLEdBR1osTUF1Q01DLEVBa0NGLFNBQW9CQyxHQUNoQixNQUFNQyxFQTlERSxDQUFDRCxJQUNiLElBQUlFLEVBQVMsR0FvQmIsTUFBTyxDQUNIQyxRQW5CWUMsSUFDWkYsRUFBT0csS0FBS0QsSUFrQkhFLFNBZkksSUFBTUosRUFlQUYsTUFBQUEsRUFBT08sV0FOVkgsSUFDaEJGLEVBQU9NLE9BQU9OLEVBQU9PLFFBQVFMLEdBQU8sR0FQcENGLEVBQU9RLFFBQU8sQ0FBQ0MsRUFBR1AsS0FDZEEsRUFBS1EsWUFBWUQsR0FDVkEsRUFBSSxJQUNaLE1BaURVRSxDQUFRYixHQUNyQkgsRUFBZUksRUFDZkgsRUFBTU8sS0FBS0osR0FDWGEsRUFBUUMsa0JBU1ZELEVBQVUsTUFDWixNQUFNRSxFQUFXQyxTQUFTQyxjQUFjLGlCQTZCeEMsT0E1QmlCRCxTQUFTQyxjQUFjLGNBNEJqQyxDQUNISCxlQVJKLFdBQ0lDLEVBQVNHLFlBQWMsR0FDdkJyQixFQUFNc0IsU0FBUW5CLEtBUGxCLFNBQTBCQSxHQUN0QixNQUFNb0IsRUFBVUMsRUFBZUMsYUFBYXRCLEdBQzVDZSxFQUFTUSxZQUFZSCxHQU1qQkksQ0FBaUJ4QixTQTFCYixHQW1DVnFCLEVBQWlCLE1BaUtuQixTQUFTSSxFQUFZQyxFQUFLQyxFQUFTQyxFQUFTLE1BQ3hDLE1BQU1DLEVBQVViLFNBQVNjLGNBQWNKLEdBTXZDLE9BTEFHLEVBQVFFLFVBQVVDLE9BQU9MLEdBQ3RCQyxHQWdCUCxTQUF5QkssRUFBUUwsR0FDN0JBLEVBQVNULFNBQVFlLElBQ2JELEVBQU9WLFlBQVlXLE1BakJuQkMsQ0FBZ0JOLEVBQVNELEdBR3RCQyxFQUlYLFNBQVNPLEVBQVNDLEdBQ2QsTUFBTUMsRUFBT3RCLFNBQVNjLGNBQWMsS0FHcEMsT0FGQVEsRUFBS1AsVUFBVUMsSUFBSSxNQUFPLE1BQU1LLEtBRXpCQyxFQVVYLE1BQU8sQ0FDSEMsVUExTEosU0FBbUJwQyxLQTBMSm1CLGFBN0NmLFNBQXNCdEIsR0FDbEIsTUFBTXdDLEVBQVNmLEVBQVksU0FBVSxDQUFDLFdBQVksWUFDbERlLEVBQU90QixZQUFjbEIsRUFBS0QsTUFDMUJ5QyxFQUFPQyxpQkFBaUIsU0FBUyxLQUM3QjdDLEVBQWVJLEVBQ2ZhLEVBQVE2QixZQUFZMUMsTUFHeEIsTUFDTTJDLEVBQVVsQixFQUFZLFNBQVUsQ0FBQyxXQUFZLFlBQWEsQ0FEL0NXLEVBQVMsVUFJcEJRLEVBQVNuQixFQUFZLFNBQVUsQ0FBQyxXQUFZLFdBQVksQ0FEOUNXLEVBQVMsZUFLekIsT0FGa0JYLEVBQVksTUFBTyxDQUFDLFFBQVMsQ0FBQ2UsRUFBUUcsRUFBU0MsT0E1SmxELEdBZ012QjlDLEVBQTBCLFVBS1RrQixTQUFTNkIsTUFBTUMsU0FDWjlCLFNBQVNDLGNBQWMsYUFFMUJELFNBQVM2QixNQUFNRSxTQUNaL0IsU0FBU0MsY0FBYyxpQiIsInNvdXJjZXMiOlsid2VicGFjazovL3RvZG8tbGlzdC8uL3NyYy9pbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJcbmxldCBwcm9qcyA9IFtdO1xubGV0IHNlbGVjdGVkUHJvajtcblxuY29uc3QgVG9kbyA9ICh0aXRsZSwgZHVlRGF0ZSwgcHJpb3JpdHksIGlzRG9uZSwgZGVzY3JpcHRpb24pID0+IHtcbiAgICBjb25zdCBzd2l0Y2hEb25lID0gKCkgPT4ge1xuICAgICAgICByZXRzLmlzRG9uZSA9ICFyZXRzLmlzRG9uZVxuICAgIH1cblxuICAgIGNvbnN0IHJldHMgPSB7XG4gICAgICAgIHRpdGxlLCBkdWVEYXRlLCBwcmlvcml0eSwgaXNEb25lLCBkZXNjcmlwdGlvbixcbiAgICAgICAgc3dpdGNoRG9uZSxcbiAgICB9O1xuICAgIHJldHVybiByZXRzO1xufTtcblxuY29uc3QgUHJvamVjdCA9ICh0aXRsZSkgPT4ge1xuICAgIGxldCBfdG9kb3MgPSBbXTtcblxuICAgIGNvbnN0IGFkZFRvZG8gPSB0b2RvID0+IHtcbiAgICAgICAgX3RvZG9zLnB1c2godG9kbyk7XG4gICAgfTtcblxuICAgIGNvbnN0IGdldFRvZG9zID0gKCkgPT4gX3RvZG9zO1xuXG4gICAgY29uc3QgX2FycmFuZ2VQcmlvcml0eSA9ICgpID0+IHtcbiAgICAgICAgX3RvZG9zLnJlZHVjZSgoaSwgdG9kbykgPT4ge1xuICAgICAgICAgICAgdG9kby5zZXRQcmlvcml0eShpKTtcbiAgICAgICAgICAgIHJldHVybiBpICsgMTtcbiAgICAgICAgfSwgMSk7XG4gICAgfTtcblxuICAgIGNvbnN0IGRlbGV0ZVRvZG8gPSAodG9kbykgPT4ge1xuICAgICAgICBfdG9kb3Muc3BsaWNlKF90b2Rvcy5pbmRleE9mKHRvZG8pLCAxKTtcbiAgICAgICAgX2FycmFuZ2VQcmlvcml0eSgpO1xuICAgIH07XG5cbiAgICByZXR1cm4ge1xuICAgICAgICBhZGRUb2RvLCBnZXRUb2RvcywgdGl0bGUsIGRlbGV0ZVRvZG9cbiAgICB9O1xufTtcblxuXG5jb25zdCBNYWluQ29udHJvbGxlciA9ICgoKSA9PiB7XG4gICAgLypcbiAgICBmdW5jdGlvbiBuZXdUb2RvX3Jhdyhwcm9qKSB7XG4gICAgICAgIHRvZG9MaXN0ID0gcHJvai5nZXRUb2RvcygpO1xuXG4gICAgICAgIGNvbnN0IHRpdGxlID0gcHJvbXB0KCdUYXNrIFRpdGxlJyk7XG4gICAgICAgIGNvbnN0IGR1ZURhdGUgPSBwcm9tcHQoJ0R1ZSBEYXRlJyk7XG4gICAgICAgIGNvbnN0IHByaW9yaXR5ID0gdG9kb0xpc3QubGVuZ3RoICsgMTtcbiAgICAgICAgY29uc3QgaXNEb25lID0gKHByb21wdCgnSXMgaXQgZG9uZSB5ZXQ/JykgPT09ICd0cnVlJyk7XG5cbiAgICAgICAgY29uc3QgZGVzYyA9IHByb21wdCgnRGVzY3JpcHRpb24nKTtcblxuICAgICAgICBjb25zdCB0b2RvID0gVG9kbyh0aXRsZSwgZHVlRGF0ZSwgcHJpb3JpdHksIGlzRG9uZSwgZGVzYyk7XG4gICAgICAgIHByb2ouYWRkVG9kbyh0b2RvKTtcbiAgICAgICAgRGlzcGxheS5yZW5kZXJUb2Rvcyhwcm9qKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBuZXdQcm9qZWN0X3JhdygpIHtcbiAgICAgICAgY29uc3QgcHJvaiA9IFByb2plY3QoKTtcbiAgICAgICAgcHJvai50aXRsZSA9IHByb21wdCgnUHJvamVjdCBUaXRsZScpO1xuICAgICAgICBwcm9qcy5wdXNoKHByb2opO1xuICAgICAgICBEaXNwbGF5LnJlbmRlclByb2plY3RzKCk7XG4gICAgfVxuXG5cbiAgICBmdW5jdGlvbiBuZXdUb2RvKHByb2osIHRpdGxlLCBkYXRlLCBwcmlvcml0eSwgaXNEb25lLCBkZXNjKSB7XG4gICAgICAgIHRvZG9MaXN0ID0gcHJvai5nZXRUb2RvcygpO1xuICAgICAgICBjb25zdCB0b2RvID0gVG9kbyh0aXRsZSwgZGF0ZSwgcHJpb3JpdHksIGlzRG9uZSwgZGVzYyk7XG5cbiAgICAgICAgcHJvai5hZGRUb2RvKHRvZG8pO1xuICAgICAgICBEaXNwbGF5LnJlbmRlclRvZG9zKHByb2opO1xuICAgIH1cbiAgICAqL1xuXG4gICAgZnVuY3Rpb24gbmV3UHJvamVjdCh0aXRsZSkge1xuICAgICAgICBjb25zdCBwcm9qID0gUHJvamVjdCh0aXRsZSk7XG4gICAgICAgIHNlbGVjdGVkUHJvaiA9IHByb2o7XG4gICAgICAgIHByb2pzLnB1c2gocHJvaik7XG4gICAgICAgIERpc3BsYXkucmVuZGVyUHJvamVjdHMoKTtcbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgICBuZXdQcm9qZWN0XG4gICAgfTtcbn0pKCk7XG5cblxuY29uc3QgRGlzcGxheSA9ICgoKSA9PiB7XG4gICAgY29uc3QgcHJvakxpc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjcHJvamVjdF9saXN0Jyk7XG4gICAgY29uc3QgdG9kb0xpc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjdG9kb19saXN0Jyk7XG5cbiAgICAvKlxuICAgIGZ1bmN0aW9uIF9kaXNwbGF5VG9kbyh0b2RvKSB7XG4gICAgICAgIGNvbnN0IHRvZG9PYmogPSBFbGVtZW50QnVpbGRlci5idWlsZFRvZG8odG9kbyk7XG4gICAgICAgIHRvZG9MaXN0LmFwcGVuZENoaWxkKHRvZG9PYmopO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHJlbmRlclRvZG9zKHByb2opIHtcbiAgICAgICAgdG9kb0xpc3QudGV4dENvbnRlbnQgPSAnJztcbiAgICAgICAgcHJvai5nZXRUb2RvcygpLmZvckVhY2godG9kbyA9PiB7XG4gICAgICAgICAgICBfZGlzcGxheVRvZG8odG9kbylcbiAgICAgICAgfSk7XG4gICAgfVxuICAgICovXG5cbiAgICBmdW5jdGlvbiBfZGlzcGxheVByb2plY3RzKHByb2opIHtcbiAgICAgICAgY29uc3QgcHJvak9iaiA9IEVsZW1lbnRCdWlsZGVyLmJ1aWxkUHJvamVjdChwcm9qKTtcbiAgICAgICAgcHJvakxpc3QuYXBwZW5kQ2hpbGQocHJvak9iaik7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcmVuZGVyUHJvamVjdHMoKSB7XG4gICAgICAgIHByb2pMaXN0LnRleHRDb250ZW50ID0gJyc7XG4gICAgICAgIHByb2pzLmZvckVhY2gocHJvaiA9PiB7XG4gICAgICAgICAgICBfZGlzcGxheVByb2plY3RzKHByb2opXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICAgIHJlbmRlclByb2plY3RzXG4gICAgfTtcbn0pKCk7XG5cbmNvbnN0IEVsZW1lbnRCdWlsZGVyID0gKCgpID0+IHtcbiAgICBmdW5jdGlvbiBidWlsZFRvZG8odG9kbykge1xuICAgICAgICAvKlxuICAgICAgICBjb25zdCBjb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcblxuICAgICAgICBjb25zdCBtYWluSW5mbyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICBtYWluSW5mby5jbGFzc0xpc3QuYWRkKCd0b2RvJyk7XG5cbiAgICAgICAgY29uc3QgaXNEb25lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcbiAgICAgICAgaXNEb25lLnR5cGUgPSAnY2hlY2tib3gnO1xuICAgICAgICBpc0RvbmUuY2hlY2tlZCA9IHRvZG8uaXNEb25lO1xuXG5cbiAgICAgICAgY29uc3QgdGl0bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdwJyk7XG4gICAgICAgIHRpdGxlLmNsYXNzTGlzdC5hZGQoJ3RvZG8tdGl0bGUnKTtcbiAgICAgICAgdGl0bGUudGV4dENvbnRlbnQgPSB0b2RvLnRpdGxlO1xuXG4gICAgICAgIGNvbnN0IHRpdGxlSW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpO1xuICAgICAgICB0aXRsZUlucHV0LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgICB0aXRsZUlucHV0LnR5cGUgPSAndGV4dCc7XG4gICAgICAgIHRpdGxlSW5wdXQudmFsdWUgPSB0b2RvLnRpdGxlO1xuXG4gICAgICAgIHRpdGxlLmFkZEV2ZW50TGlzdGVuZXIoJ2RibGNsaWNrJywgKCkgPT4ge1xuICAgICAgICAgICAgdGl0bGUuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICAgICAgICB0aXRsZUlucHV0LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgICAgICAgdGl0bGVJbnB1dC5mb2N1cygpO1xuICAgICAgICB9KTtcbiAgICAgICAgdGl0bGVJbnB1dC5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCAoKSA9PiB7XG4gICAgICAgICAgICB0b2RvLnRpdGxlID0gdGl0bGVJbnB1dC52YWx1ZTtcbiAgICAgICAgICAgIHRpdGxlLnRleHRDb250ZW50ID0gdGl0bGVJbnB1dC52YWx1ZTtcblxuICAgICAgICAgICAgdGl0bGUuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICAgICAgICB0aXRsZUlucHV0LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgICB9KTtcblxuXG4gICAgICAgIGNvbnN0IGR1ZURhdGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdwJyk7XG4gICAgICAgIGR1ZURhdGUuY2xhc3NMaXN0LmFkZCgndG9kby1kYXRlJyk7XG4gICAgICAgIGR1ZURhdGUudGV4dENvbnRlbnQgPSB0b2RvLmR1ZURhdGU7XG5cbiAgICAgICAgY29uc3QgZHVlRGF0ZUlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcbiAgICAgICAgZHVlRGF0ZUlucHV0LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgICBkdWVEYXRlSW5wdXQudHlwZSA9ICdkYXRlJztcbiAgICAgICAgZHVlRGF0ZUlucHV0LnZhbHVlID0gdG9kby5kdWVEYXRlO1xuXG4gICAgICAgIGR1ZURhdGUuYWRkRXZlbnRMaXN0ZW5lcignZGJsY2xpY2snLCAoKSA9PiB7XG4gICAgICAgICAgICBkdWVEYXRlLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgICAgICAgZHVlRGF0ZUlucHV0LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgICAgICAgZHVlRGF0ZUlucHV0LmZvY3VzKCk7XG4gICAgICAgIH0pO1xuICAgICAgICBkdWVEYXRlSW5wdXQuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgKCkgPT4ge1xuICAgICAgICAgICAgdG9kby5kdWVEYXRlID0gZHVlRGF0ZUlucHV0LnZhbHVlO1xuICAgICAgICAgICAgZHVlRGF0ZS50ZXh0Q29udGVudCA9IGR1ZURhdGVJbnB1dC52YWx1ZTtcblxuICAgICAgICAgICAgZHVlRGF0ZS5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgICAgICAgIGR1ZURhdGVJbnB1dC5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgICAgfSk7XG5cblxuICAgICAgICBjb25zdCBwcmlvcml0eSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3AnKTtcbiAgICAgICAgcHJpb3JpdHkuY2xhc3NMaXN0LmFkZCgndG9kby1wcmlvcml0eScpO1xuICAgICAgICBwcmlvcml0eS50ZXh0Q29udGVudCA9IHRvZG8ucHJpb3JpdHk7XG5cblxuICAgICAgICBjb25zdCBkZXNjQnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG4gICAgICAgIGRlc2NCdG4udGV4dENvbnRlbnQgPSAnRXhwYW5kJztcblxuICAgICAgICBjb25zdCBkZWxldGVCdG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcbiAgICAgICAgZGVsZXRlQnRuLnRleHRDb250ZW50ID0gJ0RlbGV0ZSc7XG5cbiAgICAgICAgZGVsZXRlQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICAgICAgc2VsZWN0ZWRQcm9qLmRlbGV0ZVRvZG8odG9kbyk7XG4gICAgICAgICAgICBEaXNwbGF5LnJlbmRlclRvZG9zKHNlbGVjdGVkUHJvaik7XG4gICAgICAgIH0pO1xuXG5cbiAgICAgICAgY29uc3QgZGVzYyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICBkZXNjLmNsYXNzTGlzdC5hZGQoJ3RvZG8tZGVzYycsICdoaWRkZW4nKTtcbiAgICAgICAgY29uc3QgZGVzY1RleHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdwJyk7XG4gICAgICAgIGRlc2NUZXh0LnRleHRDb250ZW50ID0gKHRvZG8uZGVzY3JpcHRpb24pID8gdG9kby5kZXNjcmlwdGlvbiA6ICdObyBEZXNjcmlwdGlvbi4uLic7XG4gICAgICAgIGRlc2NUZXh0LmNsYXNzTGlzdC5hZGQoJ3RvZG8tZGVzYy10ZXh0Jyk7XG5cbiAgICAgICAgY29uc3QgZGVzY0lucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGV4dGFyZWEnKTtcbiAgICAgICAgZGVzY0lucHV0LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicsICd0b2RvLWVkaXQtdGV4dGFyZWEnLCAndG9kby1kZXNjLXRleHQnKTtcbiAgICAgICAgZGVzY0lucHV0LnZhbHVlID0gdG9kby5kZXNjcmlwdGlvbjtcblxuICAgICAgICBkZXNjVGV4dC5hZGRFdmVudExpc3RlbmVyKCdkYmxjbGljaycsICgpID0+IHtcbiAgICAgICAgICAgIGRlc2NUZXh0LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgICAgICAgZGVzY0lucHV0LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgICAgICAgZGVzY0lucHV0LmZvY3VzKClcbiAgICAgICAgfSk7XG4gICAgICAgIGRlc2NJbnB1dC5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCAoKSA9PiB7XG4gICAgICAgICAgICB0b2RvLmRlc2NyaXB0aW9uID0gZGVzY0lucHV0LnZhbHVlO1xuICAgICAgICAgICAgZGVzY1RleHQudGV4dENvbnRlbnQgPSBkZXNjSW5wdXQudmFsdWU7XG5cbiAgICAgICAgICAgIGRlc2NUZXh0LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgICAgICAgZGVzY0lucHV0LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgICB9KTtcblxuICAgICAgICBkZXNjLmFwcGVuZENoaWxkKGRlc2NUZXh0KTtcbiAgICAgICAgZGVzYy5hcHBlbmRDaGlsZChkZXNjSW5wdXQpO1xuXG5cbiAgICAgICAgaXNEb25lLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIHRvZG8uc3dpdGNoRG9uZSk7XG4gICAgICAgIGRlc2NCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgICAgICBkZXNjLmNsYXNzTGlzdC50b2dnbGUoJ2hpZGRlbicpO1xuICAgICAgICB9KTtcblxuXG4gICAgICAgIGNvbnRhaW5lci5hZGRFdmVudExpc3RlbmVyKCdmb2N1c291dCcsICgpID0+IHtcbiAgICAgICAgICAgIHRpdGxlLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgICAgICAgdGl0bGVJbnB1dC5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcblxuICAgICAgICAgICAgZHVlRGF0ZS5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgICAgICAgIGR1ZURhdGVJbnB1dC5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcblxuICAgICAgICAgICAgZGVzY1RleHQuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICAgICAgICBkZXNjSW5wdXQuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICAgIH0pO1xuXG5cbiAgICAgICAgbWFpbkluZm8uYXBwZW5kQ2hpbGQoaXNEb25lKTtcblxuICAgICAgICBtYWluSW5mby5hcHBlbmRDaGlsZCh0aXRsZSk7XG4gICAgICAgIG1haW5JbmZvLmFwcGVuZENoaWxkKHRpdGxlSW5wdXQpO1xuXG4gICAgICAgIG1haW5JbmZvLmFwcGVuZENoaWxkKGR1ZURhdGUpO1xuICAgICAgICBtYWluSW5mby5hcHBlbmRDaGlsZChkdWVEYXRlSW5wdXQpO1xuXG4gICAgICAgIG1haW5JbmZvLmFwcGVuZENoaWxkKHByaW9yaXR5KTtcblxuICAgICAgICBtYWluSW5mby5hcHBlbmRDaGlsZChkZXNjQnRuKTtcbiAgICAgICAgbWFpbkluZm8uYXBwZW5kQ2hpbGQoZGVsZXRlQnRuKTtcblxuXG4gICAgICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChtYWluSW5mbyk7XG4gICAgICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChkZXNjKTtcblxuICAgICAgICByZXR1cm4gY29udGFpbmVyO1xuICAgICAgICAqL1xuICAgIH07XG5cbiAgICBmdW5jdGlvbiBidWlsZFByb2plY3QocHJvaikge1xuICAgICAgICBjb25zdCBzZWxCdG4gPSBfbmV3RWxlbWVudCgnYnV0dG9uJywgWydwcm9qLWJ0bicsICdzZWwtYnRuJ10pXG4gICAgICAgIHNlbEJ0bi50ZXh0Q29udGVudCA9IHByb2oudGl0bGU7XG4gICAgICAgIHNlbEJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgICAgIHNlbGVjdGVkUHJvaiA9IHByb2o7XG4gICAgICAgICAgICBEaXNwbGF5LnJlbmRlclRvZG9zKHByb2opXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGNvbnN0IGVkaXRJY29uID0gX25ld0ljb24oJ2VkaXQnKTtcbiAgICAgICAgY29uc3QgZWRpdEJ0biA9IF9uZXdFbGVtZW50KCdidXR0b24nLCBbJ3Byb2otYnRuJywgJ2VkaXQtYnRuJ10sIFtlZGl0SWNvbl0pXG5cbiAgICAgICAgY29uc3QgZGVsSWNvbiA9IF9uZXdJY29uKCd0cmFzaC1hbHQnKTtcbiAgICAgICAgY29uc3QgZGVsQnRuID0gX25ld0VsZW1lbnQoJ2J1dHRvbicsIFsncHJvai1idG4nLCAnZGVsLWJ0biddLCBbZGVsSWNvbl0pXG5cbiAgICAgICAgY29uc3QgY29udGFpbmVyID0gX25ld0VsZW1lbnQoJ2RpdicsIFsncHJvaiddLCBbc2VsQnRuLCBlZGl0QnRuLCBkZWxCdG5dKTtcblxuICAgICAgICByZXR1cm4gY29udGFpbmVyO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIF9uZXdFbGVtZW50KHRhZywgY2xhc3NlcywgY2hpbGRyZW49bnVsbCkge1xuICAgICAgICBjb25zdCBlbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCh0YWcpO1xuICAgICAgICBlbGVtZW50LmNsYXNzTGlzdC5hZGQoLi4uY2xhc3Nlcyk7XG4gICAgICAgIGlmKGNoaWxkcmVuKSB7XG4gICAgICAgICAgICBfYXBwZW5kQ2hpbGRyZW4oZWxlbWVudCwgY2hpbGRyZW4pO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGVsZW1lbnQ7XG4gICAgfVxuXG5cbiAgICBmdW5jdGlvbiBfbmV3SWNvbihpY29uTmFtZSkge1xuICAgICAgICBjb25zdCBpY29uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaScpO1xuICAgICAgICBpY29uLmNsYXNzTGlzdC5hZGQoJ2ZhcycsIGBmYS0ke2ljb25OYW1lfWApO1xuXG4gICAgICAgIHJldHVybiBpY29uO1xuICAgIH1cblxuXG4gICAgZnVuY3Rpb24gX2FwcGVuZENoaWxkcmVuKHBhcmVudCwgY2hpbGRyZW4pIHtcbiAgICAgICAgY2hpbGRyZW4uZm9yRWFjaChjaGlsZCA9PiB7XG4gICAgICAgICAgICBwYXJlbnQuYXBwZW5kQ2hpbGQoY2hpbGQpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgICBidWlsZFRvZG8sIGJ1aWxkUHJvamVjdFxuICAgIH07XG59KSgpO1xuXG5cbk1haW5Db250cm9sbGVyLm5ld1Byb2plY3QoJ1Byb2ogMScpXG4vLyBNYWluQ29udHJvbGxlci5uZXdUb2RvKHNlbGVjdGVkUHJvaiwgJ1RvZG8gMScsICcwMC8wMC8wMDAwJywgJ0hpZ2gnLCB0cnVlLCAnSGVsbG8gV29ybGQhJylcblxuXG5cbmNvbnN0IHRvZG9Gb3JtID0gZG9jdW1lbnQuZm9ybXMudG9kb0Zvcm07XG5jb25zdCB0b2RvT3BlbkJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNuZXdfdG9kbycpO1xuXG5jb25zdCBwcm9qRm9ybSA9IGRvY3VtZW50LmZvcm1zLnByb2pGb3JtO1xuY29uc3QgcHJvak9wZW5CdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjbmV3X3Byb2plY3QnKTtcblxuLypcbmNvbnN0IHRvZG9Gb3JtQ29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3RvZG9fZm9ybV9jb250YWluZXInKTtcbmNvbnN0IHRvZG9Gb3JtID0gZG9jdW1lbnQuZm9ybXMudG9kb0Zvcm07XG5jb25zdCB0b2RvT3BlbkJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNuZXdfdG9kbycpO1xudG9kb09wZW5CdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgdG9kb0Zvcm1Db250YWluZXIuY2xhc3NMaXN0LmFkZCgnZm9ybS1vcGVuJyk7XG4gICAgdG9kb09wZW5CdG4uY2xhc3NMaXN0LmFkZCgnZm9ybS1vcGVuJyk7XG59KTtcblxudG9kb0Zvcm0uYWRkRXZlbnRMaXN0ZW5lcigncmVzZXQnLCAoKSA9PiB7XG4gICAgdG9kb0Zvcm1Db250YWluZXIuY2xhc3NMaXN0LnJlbW92ZSgnZm9ybS1vcGVuJyk7XG4gICAgdG9kb09wZW5CdG4uY2xhc3NMaXN0LnJlbW92ZSgnZm9ybS1vcGVuJyk7XG59KTtcblxudG9kb0Zvcm0uYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIChldnQpID0+IHtcbiAgICBpZihldnQua2V5ID09PSAnRXNjYXBlJykge1xuICAgICAgICB0b2RvRm9ybUNvbnRhaW5lci5jbGFzc0xpc3QucmVtb3ZlKCdmb3JtLW9wZW4nKTtcbiAgICAgICAgdG9kb09wZW5CdG4uY2xhc3NMaXN0LnJlbW92ZSgnZm9ybS1vcGVuJyk7XG4gICAgICAgIHRvZG9Gb3JtLnJlc2V0KCk7XG4gICAgfVxufSk7XG5cbnRvZG9Gb3JtLmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsICgpID0+IHtcbiAgICB0b2RvRm9ybUNvbnRhaW5lci5jbGFzc0xpc3QucmVtb3ZlKCdmb3JtLW9wZW4nKTtcbiAgICB0b2RvT3BlbkJ0bi5jbGFzc0xpc3QucmVtb3ZlKCdmb3JtLW9wZW4nKTtcblxuICAgIE1haW5Db250cm9sbGVyLm5ld1RvZG8oc2VsZWN0ZWRQcm9qLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9kb0Zvcm1bJ3RpdGxlJ10udmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICB0b2RvRm9ybVsnZGF0ZSddLnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9kb0Zvcm1bJ2RvbmUnXS5jaGVja2VkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9kb0Zvcm1bJ2Rlc2MnXS52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG5cbiAgICB0b2RvRm9ybS5yZXNldCgpO1xufSk7XG5cblxuXG5jb25zdCBwcm9qRm9ybUNvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNwcm9qX2Zvcm1fY29udGFpbmVyJyk7XG5jb25zdCBwcm9qRm9ybSA9IGRvY3VtZW50LmZvcm1zLnByb2pGb3JtO1xuY29uc3QgcHJvak9wZW5CdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjbmV3X3Byb2plY3QnKTtcbnByb2pPcGVuQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgIHByb2pGb3JtQ29udGFpbmVyLmNsYXNzTGlzdC5hZGQoJ2Zvcm0tb3BlbicpO1xuICAgIHByb2pPcGVuQnRuLmNsYXNzTGlzdC5hZGQoJ2Zvcm0tb3BlbicpO1xufSk7XG5cbnByb2pGb3JtLmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCAoZSkgPT4ge1xuICAgIGlmKGUua2V5ID09PSAnRXNjYXBlJykge1xuICAgICAgICBwcm9qRm9ybUNvbnRhaW5lci5jbGFzc0xpc3QucmVtb3ZlKCdmb3JtLW9wZW4nKTtcbiAgICAgICAgcHJvak9wZW5CdG4uY2xhc3NMaXN0LnJlbW92ZSgnZm9ybS1vcGVuJyk7XG4gICAgICAgIHByb2pGb3JtLnJlc2V0KCk7XG4gICAgfVxufSk7XG5cbnByb2pGb3JtLmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsICgpID0+IHtcbiAgICBwcm9qRm9ybUNvbnRhaW5lci5jbGFzc0xpc3QucmVtb3ZlKCdmb3JtLW9wZW4nKTtcbiAgICBwcm9qT3BlbkJ0bi5jbGFzc0xpc3QucmVtb3ZlKCdmb3JtLW9wZW4nKTtcblxuICAgIE1haW5Db250cm9sbGVyLm5ld1Byb2plY3QocHJvakZvcm1bJ3RpdGxlJ10udmFsdWUpO1xuXG4gICAgcHJvakZvcm0ucmVzZXQoKTtcbn0pO1xuKi8iXSwibmFtZXMiOlsic2VsZWN0ZWRQcm9qIiwicHJvanMiLCJNYWluQ29udHJvbGxlciIsInRpdGxlIiwicHJvaiIsIl90b2RvcyIsImFkZFRvZG8iLCJ0b2RvIiwicHVzaCIsImdldFRvZG9zIiwiZGVsZXRlVG9kbyIsInNwbGljZSIsImluZGV4T2YiLCJyZWR1Y2UiLCJpIiwic2V0UHJpb3JpdHkiLCJQcm9qZWN0IiwiRGlzcGxheSIsInJlbmRlclByb2plY3RzIiwicHJvakxpc3QiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJ0ZXh0Q29udGVudCIsImZvckVhY2giLCJwcm9qT2JqIiwiRWxlbWVudEJ1aWxkZXIiLCJidWlsZFByb2plY3QiLCJhcHBlbmRDaGlsZCIsIl9kaXNwbGF5UHJvamVjdHMiLCJfbmV3RWxlbWVudCIsInRhZyIsImNsYXNzZXMiLCJjaGlsZHJlbiIsImVsZW1lbnQiLCJjcmVhdGVFbGVtZW50IiwiY2xhc3NMaXN0IiwiYWRkIiwicGFyZW50IiwiY2hpbGQiLCJfYXBwZW5kQ2hpbGRyZW4iLCJfbmV3SWNvbiIsImljb25OYW1lIiwiaWNvbiIsImJ1aWxkVG9kbyIsInNlbEJ0biIsImFkZEV2ZW50TGlzdGVuZXIiLCJyZW5kZXJUb2RvcyIsImVkaXRCdG4iLCJkZWxCdG4iLCJmb3JtcyIsInRvZG9Gb3JtIiwicHJvakZvcm0iXSwic291cmNlUm9vdCI6IiJ9