(()=>{let t,e=[];const n=function(t){todoList=t.getTodos();const e=((t,e,n,o,d)=>{const c={title:prompt("Task Title"),dueDate:prompt("Due Date"),priority:todoList.length+1,isDone:"true"===prompt("Is it done yet?"),description:prompt("Description"),setPriority:t=>{c.priority=t},switchDone:()=>{c.isDone=!c.isDone}};return c})();t.addTodo(e),d.renderProject(t)},o=function(){const t=(t=>{let e=[];return{addTodo:t=>{e.push(t)},getTodos:()=>e,title:void 0}})();t.title=prompt("Project Title"),e.push(t),d.renderProjectList()},d=(()=>{const t=document.querySelector("#project_list"),n=document.querySelector("#todos_list");return{renderProject:function(t){n.textContent="",t.getTodos().forEach((t=>{!function(t){const e=c.buildTodo(t);n.appendChild(e)}(t)}))},renderProjectList:function(){t.textContent="",e.forEach((e=>{!function(e){const n=c.buildProject(e);t.appendChild(n)}(e)}))}}})(),c={buildTodo:function(t){const e=document.createElement("div");e.classList.add("todo");const n=document.createElement("p");n.textContent=t.title;const o=document.createElement("p");o.textContent=t.dueDate;const d=document.createElement("p");d.textContent=t.priority;const c=document.createElement("input");c.type="checkbox",c.checked=t.isDone;const i=document.createElement("button");i.textContent="Expand";const r=document.createElement("button");r.textContent="Edit";const s=document.createElement("button");s.textContent="Delete";const l=document.createElement("div");l.classList.add("todo-desc","hidden");const p=document.createElement("p");return p.textContent=t.description,l.appendChild(p),i.addEventListener("click",(()=>{l.classList.toggle("hidden")})),e.appendChild(n),e.appendChild(o),e.appendChild(d),e.appendChild(c),e.appendChild(i),e.appendChild(r),e.appendChild(s),e.appendChild(l),e},buildProject:function(e){const n=document.createElement("button");return n.addEventListener("click",(()=>{t=e,d.renderProject(e)})),n.textContent=e.title,n}};document.querySelector("#new_todo").addEventListener("click",(()=>n(t))),document.querySelector("#new_project").addEventListener("click",o)})();